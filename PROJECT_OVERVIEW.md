# Project Overview: AI-Driven Software Development Workflow

## Vision
To create an automated workflow entirely managed by LLM agents, capable of developing and maintaining complex software systems from vision to production.

## System Description
This project aims to develop a system that uses a composition of LLM agents, leveraging Langchain and LangGraph, to automate the entire software development lifecycle. The workflow encompasses various stages including vision creation, roadmap planning, development, quality assurance, and production deployment.

## Key Components
1. Domain Stakeholder Agent: Responsible for deeply understanding the project and writing an updated overview for the entire team.
2. Domain Expert Agent: Validates the tasks of all other agents, checks alignment with the project vision, and provides feedback for task revisions.
3. Planning Agent: Creates a comprehensive development plan by breaking down roadmap pieces into smaller tasks.
4. Developer Agent(s): Responsible for implementing the plan and potentially handling testing.
5. Orchestrator Agent: Manages the workflow between different agents, selects appropriate agents for tasks, and ensures overall project progress.
6. Workflow Engine: Manages the flow of tasks between agents using a Directed Acyclic Graph (DAG) created with LangGraph.

## Current State
- Implemented: Domain Stakeholder Agent
- Implemented: Domain Expert Agent
- Implemented: Planning Agent
- Implemented: Developer Agent
- Implemented: Orchestrator Agent (manages workflow between agents, breaks down user requirements into tasks)
- Implemented: Basic workflow engine using LangGraph
- Implemented: User interaction flow with agent selection and task approval
- Implemented: File auto-completion in input
- Implemented: Auto-commit feature using Git event handler
- In Progress: Refinement of Orchestrator Agent's task division capabilities
- Future Focus: Optimization of agent interactions and performance improvements

## Technology Stack
- Primary Language: Python
- Key Libraries: Langchain, LangGraph
- LLM Integration: AWS Bedrock with Claude 3 Sonnet model
- Additional Libraries: asyncio, dotenv, rich (for console output), prompt_toolkit (for advanced input features), argparse (for command-line argument parsing)

## Configuration System
The project now includes a flexible configuration system (`pluscoder/config.py`) that allows setting various parameters:
- Through command-line arguments when running the application
- Via environment variables
- Using default values defined in the code

This system enhances the project's flexibility and ease of use, allowing quick configuration changes without modifying the code.

## Development Workflow
1. User selects an agent to interact with at the start of the application.
2. If the Orchestrator Agent is selected:
   a. User provides requirements.
   b. Orchestrator analyzes and breaks down requirements into manageable tasks.
   c. A list of sequential tasks is presented to the user for approval.
   d. Upon approval, tasks are executed by appropriate agents.
   e. Progress is displayed in the console, showing task status.
   f. Once tasks are completed, user can provide new requirements or quit.
3. If another agent is selected:
   a. User can directly chat with the chosen agent.
   b. The agent can read and update files based on its specialized knowledge.
   c. The chat continues until the user decides to quit.

## User Interaction
- Command-line interface using `rich` library for enhanced console output
- Input Handling: Uses `prompt_toolkit` for advanced input features, including multi-line input and file auto-completion
- Agent Selection: Users can choose which agent to interact with at the start of the application
- Task Approval: Users must approve the task list generated by the Orchestrator before execution
- Auto-commit: Changes made to files are automatically committed to the Git repository

## Version Control Integration
- Git Event Handler: Implements automatic commits when files are edited by agents
- This feature ensures that all changes made during the development process are tracked and versioned
- Enhances traceability and allows for easy rollback if needed

## Challenges and Future Directions
- Improving the Orchestrator Agent's prompt for more flexible handling of user requests
- Optimizing task division to create manageable tasks (2-3 days of work per task)
- Enhancing agents' understanding of the project state and vision
- Implementing a maximum limit for agent interactions to prevent infinite loops
- Improving inter-agent communication by summarizing or limiting preserved messages
- Exploring solutions for better context retrieval (e.g., GraphRAG, project file tree summaries)
- Refining the output filtering system to present clear, concise information to users

## Next Steps

For detailed information on the project's next steps and prioritized features, please refer to the [ROADMAP.md](ROADMAP.md) file.

## Technical Considerations
- The project is in active development, with ongoing refinements to core functionalities
- Asynchronous operations are used throughout the system for improved performance
- The system is designed to be flexible and can potentially integrate with different LLM providers
- Future updates may include more sophisticated state management for complex, multi-step processes

## Repository Structure
The project follows a well-organized structure:

1. Root Directory:
   - `.env.example`: Example environment variables file (not tracked in version control)
   - `PROJECT_OVERVIEW.md`: This file, containing the project overview
   - `main.py`: The entry point of the application, sets up the LangGraph workflow
   - `CODING_GUIDELINES.md`: Guidelines for code development
   - `README.md`: Project readme file
   - `ROADMAP.md`: Project roadmap
   - `requirements.txt`: Project dependencies
   - `CHANGELOG.md`: Tracks version changes and updates to the project

2. Core Functionality:
   - `agents/`: Directory containing agent-related files
     - `base.py`: Contains the base Agent class and core agent functionality
     - `core.py`: Defines specific agent types
     - `orchestrator.py`: Implements the Orchestrator Agent
     - `prompts.py`: Contains agent prompts
     - `event/`: Subdirectory for event-related functionality
       - `base.py`: Defines AgentEvent enum, AgentEventBaseHandler, and EventEmitter classes
       - `config.py`: Configures event emitter and handlers
       - `event_handler/`: Subdirectory for specific event handlers
         - `base.py`: Base event handler class
         - `console_event_handler.py`: Implements ConsoleAgentEventHandler for progress tracking
         - `git_event_handler.py`: Implements GitAgentEventHandler for auto-commit functionality
   - `tools.py`: Implements various tools used by the agents
   - `fs.py`: Handles file system operations
   - `io_utils.py`: Manages enhanced input/output operations
   - `logs.py`: Handles logging functionality
   - `exceptions.py`: Defines custom exceptions for the project
   - `message_utils.py`: Utility functions for message handling
   - `model.py`: Defines data models
   - `repo.py`: Handles repository-related operations
   - `type.py`: Defines custom types

3. Testing:
   - `tests/`: Directory containing test files
     - `conftest.py`: Configuration for pytest
     - `test_agents/`: Tests for agent functionality
     - `test_fs.py`: Tests for file system operations
     - `test_tools.py`: Tests for tools

4. CI/CD:
   - `.gitlab-ci.yml`: GitLab CI/CD configuration file

This structure separates concerns effectively, with clear distinctions between agent definitions, utility functions, and testing. The use of a dedicated `agents` directory allows for easy addition of new agent types as the project evolves.

## Note
This project is in active development, and many aspects are continuously being refined and improved. The information in this overview is subject to change as the project evolves.